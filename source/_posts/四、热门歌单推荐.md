---
title: 四、热门歌单推荐
date: 2019-01-14 00:00
updata: 2019-08-11 19:30
categories:
- Vue2.0开发企业级移动音乐APP
tags: 移动音乐APP
---
> 本节代码更新至：https://github.com/liugezhou/liugezhou_music/tree/chapter4
> 
#### 效果预览：
![vue-music.png](http://img.liugezhou.online/Vue2-04.png)

### axios
---
> qq音乐在抓取热门歌单推荐数据时，不能通过前面说过的jsonp直接获取，原因为qq做了一个host域名为qq域名的访问。
> 热门歌单推荐使用axios进行数据抓取。
>axios官网：https://github.com/axios/axios
>##### Features
>*   Make [XMLHttpRequests](https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest) from the browser
>*   Make [http](http://nodejs.org/api/http.html) requests from node.js
>*   Supports the [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) API
>*   Intercept request and response
>*   Transform request and response data
>*   Cancel requests
>*   Automatic transforms for JSON data
>*   Client side support for protecting against [XSRF](http://en.wikipedia.org/wiki/Cross-site_request_forgery)
>
>##### 使用：
```
$ npm install axios
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
```
其它不介绍。
### flex布局
---
> 热门歌单推荐使用了双flex布局，关于flex布局的温习：https://www.liugezhou.online/2018/08/22/Flex%E5%B8%83%E5%B1%80/
> 
### better-scroll
---
> 关于better-scroll的学习：https://github.com/ustbhuangyi/better-scroll
> 
### vue-lazyload懒加载
---
> github地址：https://github.com/hilongjw/vue-lazyload
> 在进入推荐页面的时候，会请求诸多图片，但是一般情况下我们只有在滑动到图片处再加载图片，是比较合理的，于是热门歌单推荐的list这里就使用了图片懒加载。
### loading插件
---
```
<template>
  <div class="loading">
    <img src="./loading.gif" width="24" height="24">
    <p class="desc">{{title}}</p>
  </div>
</template>
<script>
export default {
  props:{
    title:{
      type:String,
      default:'正在载入...'
    }
  }
}
</script>
<style lang="stylus" scoped>
  @import "~common/stylus/variable"

  .loading
    width:100%
    text-align: center
    .desc
      line-height:20px
      font-size: $font-size-small
      color: $color-text-l
</style>
```

> 如有疑问请添加我的微信号：18231133236。欢迎交流！
> 更多内容，请访问的我的个人博客：[https://www.liugezhou.online](https://links.jianshu.com/go?to=https%3A%2F%2Fwww.liugezhou.online).
